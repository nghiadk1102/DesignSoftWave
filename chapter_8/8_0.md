Hạ thấp độ phức tạp

Chương này giới thiệu một cách suy nghĩ khác về cách tạo các deep class. Giả sử rằng bạn đang phát triển một mô-đun mới và bạn phát hiện ra một phần phức tạp không thể tránh khỏi. Cách nào tốt hơn?: bạn nên để người dùng của mô-đun đối phó với sự phức tạp hay bạn nên xử lý sự phức tạp trong nội bộ mô-đun? Nếu độ phức tạp liên quan đến chức năng được cung cấp bởi mô-đun, thì câu trả lời thứ hai thường là câu trả lời đúng. Hầu hết các mô-đun có nhiều người dùng hơn các nhà phát triển, vì vậy tốt hơn là các nhà phát triển phải chịu đựng nhiều hơn người dùng. Là một nhà phát triển mô-đun, bạn nên cố gắng làm cho cuộc sống của người dùng mô-đun trở nên dễ dàng nhất có thể, ngay cả khi điều đó có nghĩa là bạn phải làm thêm. Một cách khác để thể hiện ý tưởng này là điều quan trọng đối với một mô-đun là có một giao diện đơn giản hơn là một triển khai đơn giản.

Là một nhà phát triển, bạn nên cư xử theo cách ngược lại: giải quyết những vấn đề dễ dàng và giao những vấn đề khó cho người khác. Nếu một điều kiện phát sinh mà bạn không chắc chắn phải giải quyết như thế nào, thì điều dễ dàng nhất là đưa ra một ngoại lệ và để người gọi xử lý nó. Nếu bạn không chắc chắn về chính sách nào cần triển khai, bạn có thể xác định một vài tham số cấu hình để kiểm soát chính sách và giao nó cho quản trị viên hệ thống để tìm ra giá trị tốt nhất cho chúng. Những cách tiếp cận như thế này sẽ giúp cuộc sống của bạn dễ dàng hơn trong ngắn hạn, nhưng chúng làm tăng sự phức tạp, do đó nhiều người phải giải quyết một vấn đề, thay vì chỉ một người. Ví dụ, nếu một lớp ném ra một ngoại lệ, mọi người gọi của lớp sẽ phải xử lý nó. Nếu một lớp xuất các thông số cấu hình, mọi quản trị viên hệ thống trong mọi cài đặt sẽ phải học cách thiết lập chúng.